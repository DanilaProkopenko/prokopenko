# –ú–∏–≥—Ä–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞: –ü–ª–∞–≥–∏–Ω ‚Üí –¢–µ–º–∞

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:

–ü–æ–∏—Å–∫ —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—ë–Ω –∏–∑ –ø–ª–∞–≥–∏–Ω–∞ `custom-ajax-search` –≤ —Å–∞–º—É —Ç–µ–º—É `prokopenko`.

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤ —Ç–µ–º–µ:

```
/themes/prokopenko/includes/search/
‚îú‚îÄ‚îÄ init.php              - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞
‚îú‚îÄ‚îÄ ajax-handler.php      - PHP –ª–æ–≥–∏–∫–∞ –ø–æ–∏—Å–∫–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ AJAX
‚îú‚îÄ‚îÄ script.js             - JavaScript –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞  
‚îî‚îÄ‚îÄ style.css             - –°—Ç–∏–ª–∏ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø–æ–∏—Å–∫–∞
```

### üîß –ß—Ç–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ:

1. **functions.php**: –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è `require_once THEME_DIR . '/includes/search/init.php';`
2. **init.php**: –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç CSS –∏ JS, –ø–æ–¥–∫–ª—é—á–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ AJAX
3. **ajax-handler.php**: –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–∏—Å–∫–∞ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `prokopenko_`
4. **script.js**: AJAX –∑–∞–ø—Ä–æ—Å –∏–∑–º–µ–Ω—ë–Ω —Å `action=custom_ajax_search` –Ω–∞ `action=prokopenko_search`

### üîÑ –ò–∑–º–µ–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π:

–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω—ã —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `prokopenko_`:

- ‚úÖ `custom_ajax_search_handler()` ‚Üí `prokopenko_custom_ajax_search_handler()`
- ‚úÖ `levenshtein_utf8()` ‚Üí `prokopenko_levenshtein_utf8()`
- ‚úÖ `highlight_fuzzy_match()` ‚Üí `prokopenko_highlight_fuzzy_match()`
- ‚úÖ `get_search_excerpt()` ‚Üí `prokopenko_get_search_excerpt()`
- ‚úÖ `get_max_distance()` ‚Üí `prokopenko_get_max_distance()`
- ‚úÖ `is_stop_word()` ‚Üí `prokopenko_is_stop_word()`
- ‚úÖ AJAX action: `wp_ajax_custom_ajax_search` ‚Üí `wp_ajax_prokopenko_search`

### üìã –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–∏—Å–∫–∞:

‚úÖ –ü–æ–∏—Å–∫ –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º (–≤–µ—Å: 50/40)
‚úÖ –ü–æ–∏—Å–∫ –ø–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É (–≤–µ—Å: 20/15)
‚úÖ –ü–æ–∏—Å–∫ –ø–æ –∫—Ä–∞—Ç–∫–æ–º—É –æ–ø–∏—Å–∞–Ω–∏—é ACF (–≤–µ—Å: 20/15)
‚úÖ –ü–æ–∏—Å–∫ –ø–æ –º–µ—Ç–∞-–¥–∞–Ω–Ω—ã–º (–≤–µ—Å: 40/15)
‚úÖ –ü–æ–∏—Å–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (–≤–µ—Å: 25/18)
‚úÖ –ù–µ—á—ë—Ç–∫–∏–π –ø–æ–∏—Å–∫ —Å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ–º –õ–µ–≤–µ–Ω—à—Ç–µ–π–Ω–∞
‚úÖ –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Å–ª–æ–≤ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö
‚úÖ –í—ã–≤–æ–¥ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –ø–æ–∏—Å–∫–∞

## üöÄ –ö–∞–∫ –∑–∞–≤–µ—Ä—à–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é:

### 1. –í –∞–¥–º–∏–Ω–ø–∞–Ω–µ–ª–∏ WordPress:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ü–ª–∞–≥–∏–Ω—ã ‚Üí –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–ª–∞–≥–∏–Ω—ã**
2. –ù–∞–π–¥–∏—Ç–µ –ø–ª–∞–≥–∏–Ω **"Custom AJAX Search"**
3. –ù–∞–∂–º–∏—Ç–µ **"–î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å"**
4. –ù–∞–∂–º–∏—Ç–µ **"–£–¥–∞–ª–∏—Ç—å"** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 2. –ò–ª–∏ —á–µ—Ä–µ–∑ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

```sql
-- –£–¥–∞–ª–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–ª–∞–≥–∏–Ω–∞ –µ—Å–ª–∏ –Ω—É–∂–Ω—ã
DELETE FROM wp_options WHERE option_name LIKE 'custom_ajax_search_%';
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:

- –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Å–∞–π—Ç–∞
- –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É –ø–æ–∏—Å–∫–∞
- –í–≤–µ–¥–∏—Ç–µ –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å (–º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

## üìù –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

- jQuery (–ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- ACF Pro (–¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –º–µ—Ç–∞-–¥–∞–Ω–Ω—ã—Ö)
- WordPress (–¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π wp_)

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:

- ‚úÖ nonce –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –≤—Å–µ—Ö AJAX –∑–∞–ø—Ä–æ—Å–∞—Ö
- ‚úÖ –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (sanitize_text_field)
- ‚úÖ –ü—Ä–µ—Ñ–∏–∫—Å—ã —Ñ—É–Ω–∫—Ü–∏–π –∏–∑–±–µ–≥–∞—é—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
- ‚úÖ Action —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π `wp_ajax_nopriv`

## üíæ –ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å –æ—Ç –ø–ª–∞–≥–∏–Ω–∞:

–ü–∞–ø–∫–∞ `/wp-content/plugins/custom-ajax-search/` –≤—Å–µ –µ—â—ë —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–¥–∞–ª–µ–Ω–∞ –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç.

## üêõ Troubleshooting:

–ï—Å–ª–∏ –ø–æ–∏—Å–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –Ω–∞ –æ—à–∏–±–∫–∏ JavaScript
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ jQuery –ø–æ–¥–∫–ª—é—á—ë–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ ACF –ø–æ–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã
4. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ –∏ —Å–µ—Ä–≤–µ—Ä–∞

## ‚ú® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –º–∏–≥—Ä–∞—Ü–∏–∏:

- ‚úÖ –ù–µ—Ç –ª–∏—à–Ω–∏—Ö –ø–ª–∞–≥–∏–Ω–æ–≤ - –±—ã—Å—Ç—Ä–µ–µ –∑–∞–≥—Ä—É–∑–∫–∞
- ‚úÖ –í—Å—ë –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ (–≤ —Ç–µ–º–µ)
- ‚úÖ –õ–µ–≥—á–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –æ–±—Å–ª—É–∂–∏–≤–∞—Ç—å
- ‚úÖ –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å –¥—Ä—É–≥–∏–º–∏ –ø–ª–∞–≥–∏–Ω–∞–º–∏
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ
