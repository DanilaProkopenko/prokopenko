## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

### ‚úÖ –£–∂–µ —Å–¥–µ–ª–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

1. **–í—Å–µ —Ñ–∞–π–ª—ã –ø–æ–∏—Å–∫–∞ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ —Ç–µ–º—É** ‚Üí `/themes/prokopenko/includes/search/`
2. **functions.php –æ–±–Ω–æ–≤–ª–µ–Ω** ‚Üí –ø–æ–∏—Å–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
3. **–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω—ã** ‚Üí –∏–∑–±–µ–∂–∞–Ω—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã

### üéØ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –≤–∞–º:

#### –®–∞–≥ 1Ô∏è‚É£: –î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞–≥–∏–Ω

```
–ê–¥–º–∏–Ω–ø–∞–Ω–µ–ª—å ‚Üí –ü–ª–∞–≥–∏–Ω—ã ‚Üí –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–ª–∞–≥–∏–Ω—ã
‚Üì
–ù–∞–π—Ç–∏ "Custom AJAX Search"
‚Üì
–ù–∞–∂–∞—Ç—å "–î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å"
‚Üì
–ù–∞–∂–∞—Ç—å "–£–¥–∞–ª–∏—Ç—å" (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

#### –®–∞–≥ 2Ô∏è‚É£: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

1. –û—Ç–∫—Ä–æ–π—Ç–µ **—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Å–∞–π—Ç–∞**
2. –ù–∞–∂–º–∏—Ç–µ –∏–∫–æ–Ω–∫—É **–ø–æ–∏—Å–∫–∞** (–ª—É–ø–∞ –≤ —Ö–µ–¥–µ—Ä–µ)
3. –í–≤–µ–¥–∏—Ç–µ –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å (**–º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞**)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

#### –®–∞–≥ 3Ô∏è‚É£: –¢–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã

```
‚úì –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é: "–∫–æ–Ω—Ç–∞–∫—Ç—ã", "—É—Å–ª—É–≥–∏"
‚úì –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É: –≤–≤–µ–¥–∏—Ç–µ —Å–ª–æ–≤–æ –∏–∑ —Ç–µ–∫—Å—Ç–∞ –∑–∞–ø–∏—Å–∏
‚úì –ü–æ–∏—Å–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
‚úì –ù–µ—á—ë—Ç–∫–∏–π –ø–æ–∏—Å–∫: –≤–≤–µ–¥–∏—Ç–µ —Å –æ–ø–µ—á–∞—Ç–∫–æ–π (–Ω–∞–ø—Ä. "—É—Å–ª—É–≥–∏" ‚Üí "—É—Å–ª—É–≥–∏")
```

---

### üìÅ –ì–¥–µ –≤—Å—ë –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:

```
/wp-content/themes/prokopenko/
‚îî‚îÄ‚îÄ includes/
    ‚îî‚îÄ‚îÄ search/
        ‚îú‚îÄ‚îÄ init.php              ‚Üê –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞
        ‚îú‚îÄ‚îÄ ajax-handler.php      ‚Üê –õ–æ–≥–∏–∫–∞ –ø–æ–∏—Å–∫–∞  
        ‚îú‚îÄ‚îÄ script.js             ‚Üê JavaScript
        ‚îú‚îÄ‚îÄ style.css             ‚Üê –°—Ç–∏–ª–∏
        ‚îú‚îÄ‚îÄ README.md             ‚Üê –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
        ‚îú‚îÄ‚îÄ MIGRATION_REPORT.md   ‚Üê –û—Ç—á—ë—Ç –æ –º–∏–≥—Ä–∞—Ü–∏–∏
        ‚îî‚îÄ‚îÄ CHECKLIST.md          ‚Üê –ß–µ–∫–ª–∏—Å—Ç
```

---

### üîÑ AJAX URL:

**–ë—ã–ª–æ:**
```
/wp-admin/admin-ajax.php?action=custom_ajax_search
```

**–°—Ç–∞–ª–æ:**
```
/wp-admin/admin-ajax.php?action=prokopenko_search
```

---

### üß™ –ï—Å–ª–∏ –ø–æ–∏—Å–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

#### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞
```
F12 ‚Üí Console ‚Üí –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –æ—à–∏–±–∫–∏
```

#### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ jQuery
```
F12 ‚Üí Console ‚Üí –í–≤–µ–¥–∏—Ç–µ: jQuery
–î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏: function
```

#### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ AJAX URL
```
F12 ‚Üí Network ‚Üí –í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–∏—Å–∫
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–ø—Ä–æ—Å –Ω–∞ /admin-ajax.php
```

#### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ nonce
```
–í script.js:
security: ajax_search.nonce  ‚Üê –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω
```

#### 5. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à
```
- –ö—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+Shift+Delete)
- –ö—ç—à –ø–ª–∞–≥–∏–Ω–æ–≤ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –ö—ç—à WordPress (–æ—á–∏—Å—Ç–∏—Ç—å –≤ –∞–¥–º–∏–Ω–ø–∞–Ω–µ–ª–∏)
```

---

### üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞:

**JavaScript** (script.js):
```javascript
$.get(ajax_search.ajaxurl + '?action=prokopenko_search&q=' + encodeURIComponent(q) + '&security=' + ajax_search.nonce, ...)
```

**PHP –æ–±—Ä–∞–±–æ—Ç—á–∏–∫** (ajax-handler.php):
```php
add_action('wp_ajax_prokopenko_search', 'prokopenko_custom_ajax_search_handler');
add_action('wp_ajax_nopriv_prokopenko_search', 'prokopenko_custom_ajax_search_handler');
```

---

### üé® –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ –≤–∫–ª—é—á–∞—é—Ç:

‚úÖ –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π
‚úÖ –û—Ç—Ä—ã–≤–æ–∫ –∏–∑ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π
‚úÖ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π
‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–µ—Å–ª–∏ –µ—Å—Ç—å)
‚úÖ –°—Å—ã–ª–∫—É –Ω–∞ –∑–∞–ø–∏—Å—å

---

### üìù –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞:

**–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –∑–∞–ø—Ä–æ—Å–∞**: 3 —Å–∏–º–≤–æ–ª–∞ (—Å—Ç—Ä–æ–∫–∞ 17 –≤ ajax-handler.php)
**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Å–∫–æ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞**: 15 (—Å—Ç—Ä–æ–∫–∞ 231 –≤ ajax-handler.php)
**–ú–∞–∫—Å–∏–º—É–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**: 10 (—Å—Ç—Ä–æ–∫–∞ 270 –≤ ajax-handler.php)

–î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:
```php
// –í ajax-handler.php, —Ñ—É–Ω–∫—Ü–∏—è prokopenko_custom_ajax_search_handler()

// –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞
return !prokopenko_is_stop_word($word) && mb_strlen($word) >= 3;

// –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Å–∫–æ—Ä
if ($score > 15) {

// –ú–∞–∫—Å–∏–º—É–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
wp_send_json(['results' => array_slice($formatted_results, 0, 10)]);
```

---

### ‚ú® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

‚úÖ –ü–æ–∏—Å–∫ –≤—Å—Ç—Ä–æ–µ–Ω –≤ —Ç–µ–º—É - –±—ã—Å—Ç—Ä–µ–µ –∑–∞–≥—Ä—É–∑–∫–∞
‚úÖ –ù–µ—Ç –ª–∏—à–Ω–∏—Ö –ø–ª–∞–≥–∏–Ω–æ–≤ - –º–µ–Ω—å—à–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
‚úÖ –í—Å—ë –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ - –ª–µ–≥—á–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
‚úÖ –§—É–Ω–∫—Ü–∏–∏ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º - –∏–∑–±–µ–∂–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
‚úÖ –ü–æ–ª–Ω–∞—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å - —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –ø–ª–∞–≥–∏–Ω–∞

---

### üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:

‚úÖ nonce –ø—Ä–æ–≤–µ—Ä–∫–∞ - –∑–∞—â–∏—Ç–∞ –æ—Ç CSRF
‚úÖ –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –≤—Ö–æ–¥–∞ - –∑–∞—â–∏—Ç–∞ –æ—Ç XSS
‚úÖ check_ajax_referer() - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞
‚úÖ wp_send_json() - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π AJAX –æ—Ç–≤–µ—Ç

---

### üìû –ü–æ–º–æ—â—å:

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **–ü–ª–∞–≥–∏–Ω –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω?** ‚Üí –î–∞/–ù–µ—Ç
2. **–û—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏?** ‚Üí –ö–∞–∫–∏–µ?
3. **jQuery –ø–æ–¥–∫–ª—é—á—ë–Ω?** ‚Üí –î–∞/–ù–µ—Ç
4. **ACF –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã?** ‚Üí –î–∞/–ù–µ—Ç
5. **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω—ã?** ‚Üí –î–∞/–ù–µ—Ç

---

### üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ–∏—Å–∫ —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ —Ç–µ–º—É –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

**–°—Ç–∞—Ç—É—Å**: ‚úÖ **–ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ**
